#obj/handlers/nroff.c
nroffed_file ({0,2,20,"Reaction File Format","Discworld Creator Help","Reaction File Format","Name",3,5,5,"reaction file format - File format for the reaction handler database ","Description",3,5,5,"The reaction handler loads its database from a collection of files, specifically, all files that match /obj/reactions/*.rct.  The format required by these files is shown below. ","Reaction File Format",3,5,5,"When the reaction handler is loaded, it attempts to restore the reaction database from all files in /obj/reactions that end with '.rct'.  Each file can contain multiple reactions; this was felt to be a good trade-off between having one massive file (which would be unwieldy), and requiring a separate file for each reaction (which would waste disk space).  The files are read alphabetically, so reactions can be overridden (say, for testing) by adding the replacement in a file further down the list. ","",3,5,5,"A reaction is specified with a series of lines of the form ","",7,10,"<field>:<space><value>","",3,5,5,"Note that <space> represents one space character.  If the value is a string, all spaces other than the first will be taken literally. Below are the fields and their meanings.  Any unspecified fields will default to 0 (for numbers) and \"\" (for strings);  ","",6,({5,20,-30,}),({"","","","",}),({"reagent_a","reagent_b","amount_a","amount_b",}),({"","These are the medium aliases of the two reagents.  To prevent it being used as an actual alias (i.e., in a player command), it should be mixed case.  By convention, the first letter of each \"word\" should be capitalized (e.g., PowderedRedRiverRock).","","These are the required amounts of the reagents, relatively speaking (e.g., 2 parts 'a' to 1 part 'b').  Any remainder is left in the container.",}),"",3,5,5,"The following fields refer to transient objects created by the reaction.  If the reaction creates a static object directly, these can be ignored. ","",6,({5,20,-30,}),({"","","","","",}),({"path_transient","amount_transient","hp_base","duration","final_function",}),({"The path to the transient object created.","The amount of transient created, per amounts of the reagents specified above.","This is a special value used by transients that cause damage.  See the help file on the particular transient for more information.","The amount of time the transient exists, in seconds.","The function to be called when the transient expires.  This depends on the transient used.",}),"",3,5,5,"The following specify the static object created directly by the reaction (if there is no transient), or the object created when the transient expires.  Note that in the latter case, this may be another transient.  In either case, this need not be a continuous object. ","",6,({5,20,-30,}),({"","","","","","",}),({"path_result","amount_result","medium_alias_result","first_message","function_string","end",}),({"The path of the resulting object.","The amount of the resulting object, if it is continuous.  Otherwise, it is the weight.  In either case, it is per the specified reagent amounts.","The medium alias of the result.  This is only required if the result is continuous.","This is a message printed when the reaction occurs.","This is a process_string type of string (i.e., those \"@@\" things) that can be used to customize the result further.  This field may be repeated as many times as necessary.  The functions will be executed in the order given.  NOTE: don't put \"@@\" around the string.  The handler will add them.","This must be the last field in the reaction specification.  It should have nothing after it on the line other than spaces.",}),"",3,5,5,"In addition to the function_string parameters, the first_message may have \"@@\"-style function calls in it - the string is passed to process_string() before being printed out.  In either case, the following pseudo-objects may be used to represent the objects involved in the reaction. ","",6,({5,20,-30,}),({"","","","","",}),({"#env#","#env2#","#obj_a#","#obj_b#","#obj_x#",}),({"This represents the environment of the reagents (i.e., the container).","This represents the environment of the container.","This represents the first reagent (the one just added to the container).","This represents the second reagent.","This represents the object created by the reaction.",}),"",3,5,5,"For example, ","",7,10,"first_message: @@#obj_x#:short@@ appears in @@#env#:the_short@@.\\n","",3,5,5,"would print something like, \"Some brown liquid appears in the blue bottle.\" ","See also",7,5,"obj.handlers.reaction_handlerobj.reagents.reaction/obj/reactions/*.rct","",})
nroffed_file_name "/doc/create/obj.reactions"
modified_time 810876009
