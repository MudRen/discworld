Fri Nov 20 04:55:24 CST 1992 (Truilkan)
	* bumped version to 0.9.3
	* note: this version cleans up various memory leaks.  For anyone that
	  wants to help find leaks, the MallocDebug application on the NeXT
	  is a great tool for doing so (it is what I used to find these).
	* fixed a memory leak in the message() efun (freed vector returned
	  by all_inventory()).
	* added a FREE in rc.c to free the buffer used to hold the runtime
	  config file (free it after we don't need it anymore).  This should
	  save about 40k of memory.
	* changed lex.c so that memory allocated for #defines (in LPC objects)
	  is freed immediately after compilation rather than when the next
	  file is compiled.
	* fixed exec() efun to assume process_input and write_prompt are in
	  the new user object until proven otherwise.
	* changed MDmalloc in md.c so that the default tag for a chunk of memory
	  is 1 (so that debugmalloc(filename, 1) will dump all memory chunks
	  that were allocated without specifying a tag.  Only has an affect
	  with DEBUGMALLOC_EXTENSIONS is defined.
	* fixed a leak in call_function_interactive: FREE(args).

Wed Nov 25 02:07:36 CST 1992 (Truilkan)
	* bumped version to 0.9.13
	* fixed notify_no_command() fun so that disable_commands() efun can't
	  crash it by setting command_giver to 0.
	* deduced that free_vector was trying to free the zero vector because
	  the ref count to the zero vector was overflowing (> 32767).  Fixed
	  this by changing free_vector not to worry about the zero vector
	  overflowing.
	* removed the references to lstat() prototypes from simulate.c since that
	  file doesn't even call lstat().
	* changed 'master_ob = load_object(...)' to 'master_ob = find_object(...)'
	  in interpret.c.  Presumedly, this lets master be updated under
	  mudlibs in which it currently cannot.
	* fixed catch() so that it can't directly catch "eval cost too big" and
	  "too deep recursion errors".  This defeats LPC objects that attempt
	  to use catch() to hang the driver.
	* added a new runtime config option 'default fail message'.
	  This is the message displayed when an action returns 0.  The standard
	  LPC message has been "What ?" for a long time.  If the runtime
	  config file does not specify a default fail message, "What?" will
	  be used as a default.  This value can be overridden as usual with
	  the notify_fail() efun.
	* remove 12 more bytes from the mapping struct.  allocate_mapping(x)
	  is now equivalent to allocate_mapping(0).  Use x = ([]) instead of
	  x = allocate_mapping(0) unless you like to type a lot.  This change
	  is an experiment.  If it doesn't work out, we may go back to mapping.c
	  and mapping.h that are in MudOS 0.9.4.

Tue Nov 24 20:10:12 CST 1992 (Truilkan)
	* 0.9.11 and 0.9.12 were internal debugging releases that have been
	  scrapped.

Tue Nov 22 20:09:45 CST 1992 (Truilkan)
	* bumped version to 0.9.10
	* Added Michael Bundy's patches to make MudOS compile and run on
	  System V Release 4.  All of the changes he made except for one are
	  dependent on SVR4 being defined.  The only exception was the Makefile
	  where he had to change the .c.o rule. The compiler groks on the -o
	  option as "-o would overwrite filename.o".  To build MudOS under
	  System V Release 4, uncomment the lines in the Makefile following
	  comments containing the words "System V Release 4".
	* added a more aggressive optimization option (-O2 ...) to the Makefiles.
	* replace_string() efun no longer crashes when 0 is passed as 3rd arg.
	* changed the 'What ?' message to 'Hmm?' to see if anyone will notice :)
	* changed an #ifdef MSDOS in simulate.c to #ifndef MSDOS (all the
	  MSDOS stuff should probably be removed since we don't support it).
	* fixed lex.c so that the following macro expands correctly:
	  '#define SOURCE_NAME(ob) (explode(file_name(ob),"#")[0])'
	  Note: one related problem remains.. Token pasting doesn't pay attention
	  to whether or not ## is inside or outside of quotes.

Sat Nov 21 19:20:23 CST 1992 (Truilkan)
	* bumped version to 0.9.9
	* fixed a crasher in apply_low that was precipitated by the fix I did
	  in 0.9.8.  Apparently my "fix" undid a "fix" added in LPmud 3.1.1.
	  The original fix was intended to cause the cache not to be used in
	  the event that the object in question had been swapped out since the
	  last time the cache entry was accessed (since this would cause a
	  crash).  However, the original fix was too conservative in that
	  it prevented any inherited functions from being cached; so I added
	  a less conservative fix that should do the trick (keeping high cache hit
	  rates _and_ avoiding crashes caused by an intervening swap).  BTW,
	  anyone using a 3.1.2 decended driver other than MudOS may want to
	  adopt this fix since it almost doubles cache hit rate for most mudlibs
	  - Look for references to cache_oprogp in interpret.c).
	* added code to apply_low so that static and private modifiers are obeyed
	  on cached functions too (fix taken from Amylaar's driver).

Sat Nov 21 19:20:23 CST 1992 (Truilkan)
	* bumped version to 0.9.9
	* fixed a crasher in apply_low that was precipitated by the fix I did
	  in 0.9.8.  Apparently my "fix" undid a "fix" added in LPmud 3.1.1.
	  The original fix was intended to cause the cache not to be used in
	  the event that the object in question had been swapped out since the
	  last time the cache entry was accessed (since this would cause a
	  crash).  However, the original fix was too conservative in that
	  it prevented any inherited functions from being cached; so I added
	  a less conservative fix that should do the trick (keeping high cache hit
	  rates _and_ avoiding crashes caused by an intervening swap).  BTW,
	  anyone using a 3.1.2 decended driver other than MudOS may want to
	  adopt this fix since it almost doubles cache hit rate for most mudlibs
	  - Look for references to cache_oprogp in interpret.c).
	* added code to apply_low so that static and private modifiers are obeyed
	  on cached functions too (fix taken from Amylaar's driver).

Sat Nov 21 03:58:14 CST 1992 (Truilkan)
	* bumped version to 0.9.8
	* fixed a bug in the function cache code in apply_low.  Basically,
	  the code checking to see if a function is in the cache was messed up.
	  Cache hit rates should dramatically improve with this fix.  Hopefully,
	  the fix doesn't have bad side effects :)

Fri Nov 20 23:27:35 GMT-0500 1992 (Truilkan)
	* bumped version to 0.9.7
	* added an exit(-3) to crash_MudOS for when a crash happens from
	  inside crash_MudOS.

Fri Nov 20 21:02:48 CST 1992 (Truilkan)
	* bumped version to 0.9.6
	* fixed a potential crasher in set_prompt() (comm.c)
	* removed the two calls to add_cost() for now since we are calling
	  add_cost way too many times and aren't capturing all of the cost
	  anyway.  I'll add it back when we figure out where to best call
	  add_cost() from in order to minimize cpu cost and be accurate.
	* initialized a variable in sprintf.c

Fri Nov 20 19:08:44 CST 1992 (Truilkan)
	* bumped version to 0.9.5
	* fixed potential FREEs of non-malloc'd memory in children() efun
	  (introduced in 0.9.4).
	* made the each() efun optional.  undefining EACH in options.h will
	  save 12 bytes per allocated mapping.
	* reworked struct mapping not to need the theMask field to save 4
	  more bytes per mapping.
	* reworked struct mapping not to need the 'block' field to save
	  4 more bytes per mapping.
	* changed a few allocate_mapping() calls in mapping.c to make
	  intelligent guesses as to how many entries to preallocate.

Fri Nov 20 17:12:35 CST 1992 (Truilkan)
	* bumped version to 0.9.4
	* applied Cynosure's patch to replace_string so that it will correctly
	  catch result strings that grow too large.
	* changed array.c not to use alloca().
	* changed file.c not to use alloca().
	* changed main.c not to use alloca().
	* fixed a bug in the say() efun in which not enough memory was being
	  allocated.
	* changed simulate.c not to use alloca().
	* changed efunctions.c not to use alloca().
	* removed alloca.c from the distribution and makefiles
	* fixed MDmalloc to set a default desc if none is given.
	* changed legal_path() in file.c to disallow paths like stuf/./morestuf
	* changed 'new connection' and 'connection closing' messages to
	  be debug() statements instead of printfs.  Therefore, any mud wanting to
	  log IP addresses of those entering and leaving the mud should do so
	  from the mudlib.

Fri Nov 20 04:55:24 CST 1992 (Truilkan)
	* bumped version to 0.9.3
	* note: this version cleans up various memory leaks.  For anyone that
	  wants to help find leaks, the MallocDebug application on the NeXT
	  is a great tool for doing so (it is what I used to find these).
	* fixed a memory leak in the message() efun (freed vector returned
	  by all_inventory()).
	* added a FREE in rc.c to free the buffer used to hold the runtime
	  config file (free it after we don't need it anymore).  This should
	  save about 40k of memory.
	* changed lex.c so that memory allocated for #defines (in LPC objects)
	  is freed immediately after compilation rather than when the next
	  file is compiled.
	* fixed exec() efun to assume process_input and write_prompt are in
	  the new user object until proven otherwise.
	* changed MDmalloc in md.c so that the default tag for a chunk of memory
	  is 1 (so that debugmalloc(filename, 1) will dump all memory chunks
	  that were allocated without specifying a tag.  Only has an affect
	  with DEBUGMALLOC_EXTENSIONS is defined.
	* fixed a leak in call_function_interactive: FREE(args).

Thu Nov 19 20:34:29 CST 1992 (Truilkan)
	* bumped version to 0.9.2
	* moved a couple dozen of the more often used eoperators out of
	  eoperators.c and back into the switch() in interpret.c:eval_instruction()
	  for performance reasons (not all C compilers support the 'inline'
	  designator).
	* changed various instances of 'ip->text_start + ip->text' in comm.c
	  to 'ip->text + ip->text_start' (also ip->text_end).  AIX 3.0 and 3.1
	  have a bug which screws up (integer + pointer) but works fine on
	  (pointer + integer).  This bug apparently doesn't exist in AIX 3.2.
	  This solves the hang that happens at the password prompt.
	* changed get_user_data() in comm.c to use cmd_in_buf() instead of
	  first_cmd_in_buf() (slight performance gain).
	* fixed f_ne() so that using != on mappings doesn't cause a fatal().
	  (map1 != map2) will return true unless map1 and map2 are actually
	  references to the same map (regardless of whether or not map1 and map2
	  contain the same data).  Note: use !sizeof(map) instead of (map != ([])).
	* fixed f_member_array() so that if array contains a mapping, it won't
	  cause a fatal().
	* undef'd DROP_CORE in options.h since it defining it may be contributing
	  to the driver hanging after a crash (apparently on some DECstations).
	* added another warning about smalloc to Makefile and GNUmakefile.
	* added some Pinkfish patches to sprintf.c to support some of the wombly
	  stuf they do on DiscWorld (contains a bunch of bug fixes too).
	* changed func() call in mapTraverse to be (*func)()
	* added a va_end(args) in comm.c after a vprintf().
	* replaced a comma statement separator in ed.c with a semi-colon.
	* typecast a few calls to DMALLOC() with (char *)
	* added support for SIGIOT for those machines which don't have SIGABRT
	* inverted port.h check for RUSAGE (assumes existence of getrusage()
	  unless HP or Sequent).
	* removed a redundant check (pr->name[0] != fun[0]) from apply_low().
	* filter_array now allows value returned by filter to be any non-zero
	  (lifts the integer requirement).
	* put an #ifdef in localtime() efun for BSD 4.2 (see BSD42 in port.h)
	* fixed ASSERT() in bsdmalloc.c to not bomb out under non-ANSI C.
	* fixed each() efun to use mapping_each() in mapping.c.  Fixed each()
	  to reset to start of map (for the next time) once the end has been
	  reached (each() does still return ({}) at end of map).

	* bumped version to 0.9.1
	* removed obsolete comment referencing MISSING_UALARM in ualarm.c
	* changed default MAX_USERS in options.h from 180 to 40.  This should
	  make the driver use much less memory at startup.
	* changed xalloc()'s in parse.c to XALLOC()'s and free()'s to FREE()'s.
	* changed options.h so that default malloc is SYSMALLOC and not
	  DEBUGMALLOC.  As before, BSD malloc and smalloc may be chosen in
	  the Makefile.  Be careful using BSD malloc as it appears it may have
	  a memory leak (could be something else).
	* changed make_func.y so that we don't toupper '_' in base.h
	* changed >= to < in main.c on the setdtablesize() check.
	* added the last flush_message() back to add_message() since it was
	  apparently a bad idea to remove it (or so I'm told :).
	* fixed a bug in f_author_stats (the case in which m is returned NULL)
	* extracted out all the #include and extern stuff from efunctions.c into
	  efuns.h so that it will be easier to put local efuns into a separate
	  .c file (such a .c file should #include "efuns.h").
	* fixed bug in apply_low (reported by Petri Virkkula) in which the
	  call_other cache can be left in an inconsistent state in the
	  event of a "too deep recursion" error.  Moved certain critical
	  assignments before the push_control_stack() call.
	* changed a few MALLOC()'s to DMALLOC()'s in socket_efuns.c.
